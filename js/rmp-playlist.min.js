/**
 * @license Copyright (c) 2015-2016 Radiant Media Player 
 * Playlist setup | https://www.radiantmediaplayer.com
 * Terms of service: https://www.radiantmediaplayer.com/terms-of-service.html
 * Contact information: https://www.radiantmediaplayer.com/contact.html
 */
!function(t,i){"use strict";var e=function(){this.playerReady=!0},s=function(t){this.playerContainer.removeEventListener("destroycompleted",this.destroyCompletedFn);var e=this.rmp.id,s=i.createElement("div");this.playlistContainer.replaceChild(s,this.playerContainer),s.id=e,this.playerContainer=s,this.rmp=new RadiantMP(s.id),this.playerContainer.addEventListener("ready",this.udpateReady),this.rmp.init(this.playlistItems[t])},l=function(t){this.playerReady=!1,this.playerContainer.removeEventListener("ready",this.udpateReady),this.destroyCompletedFn=s.bind(this,t),this.playerContainer.addEventListener("destroycompleted",this.destroyCompletedFn),this.rmp.destroy()},a=function(t,i){if(i&&(i.stopPropagation(),"touchstart"===i.type&&i.preventDefault()),this.playerReady&&this.currentPlaylistItem!==t){this.currentPlaylistItem=t;for(var e=0,s=this.playlistItemsDom.length;s>e;e++)this.rmp.fw.removeClass(this.playlistItemsDom[e],"rmp-pl-line-active");this.playlistItemsDom[t].className+=" rmp-pl-line-active",this.bottomTitle.textContent=this.playlistItems[t].plTilte;var a=this.playlistItemsDom[t].offsetTop;"number"==typeof a&&this.playlistItemsDom[t].parentNode&&(this.playlistItemsDom[t].parentNode.scrollTop=a),l.call(this,t)}},n=function(t){this.currentPlaylistItem===this.playlistItemsDom.length-1?a.call(this,0,t):a.call(this,this.currentPlaylistItem+1,t)},r=function(t){0===this.currentPlaylistItem?a.call(this,this.playlistItemsDom.length-1,t):a.call(this,this.currentPlaylistItem-1,t)};"undefined"==typeof t.RadiantPlaylist&&(t.RadiantPlaylist=function(t,i){this.element=t,this.playlistItems=i},t.RadiantPlaylist.prototype.init=function(){if(this.playerReady=!1,this.rmp=new RadiantMP(this.element),this.udpateReady=e.bind(this),this.playerContainer=i.getElementById(this.element),this.playerContainer.addEventListener("ready",this.udpateReady),this.playlistContainer=this.playerContainer.parentNode,null===this.playlistContainer)return void console.log("RMP playlist: invalid playlist container");if(!Array.isArray(this.playlistItems)||"object"!=typeof this.playlistItems[0])return void console.log("RMP playlist: invalid playlist items");this.currentPlaylistItem=0;for(var t='<div class="rmp-pl-container"><div class="rmp-pl-items">',s=0,l=this.playlistItems.length;l>s;s++)t+=0===s?'<div class="rmp-pl-line rmp-pl-line-active" tabindex="0">':'<div class="rmp-pl-line" tabindex="0">',t+='<div class="rmp-pl-number">'+(s+1)+'</div><div class="rmp-pl-thumb"><img src="'+this.playlistItems[s].plThumbnailLoc+'"></div><div class="rmp-pl-text"><div class="rmp-pl-title">'+this.playlistItems[s].plTilte+'</div><div class="rmp-pl-desc">'+this.playlistItems[s].plDesc+"</div></div></div>";t+="</div>",this.playlistContainer.insertAdjacentHTML("beforeend",t),this.playlistItemsDom=this.playlistContainer.getElementsByClassName("rmp-pl-line");for(var p=0,m=this.playlistItemsDom.length;m>p;p++)null!==this.playlistItemsDom[p]&&this.playlistItemsDom[p].addEventListener("click",a.bind(this,p));var o=i.createElement("div");o.className="rmp-pl-bottom";var d=i.createElement("span");d.className="rmp-pl-previous rmp-i rmp-i-previous",d.addEventListener("click",r.bind(this)),o.appendChild(d),this.bottomTitle=i.createElement("span"),this.bottomTitle.className="rmp-pl-bottom-title",this.bottomTitle.textContent=this.playlistItems[0].plTilte,o.appendChild(this.bottomTitle);var h=i.createElement("span");h.className="rmp-pl-next rmp-i rmp-i-next",h.addEventListener("click",n.bind(this)),o.appendChild(h),this.playlistContainer.appendChild(o),this.rmp.init(this.playlistItems[0])})}(window,document);